<!DOCTYPE html>
<html>
<head>
  <title></title>
  
  <style type="text/css">
    body{
      height: 2000px;
      margin:0px;
      color:green;
    }
    .bar{
      width: 100%;
    }
    .nav{
      margin: auto;
      background-color:#333333;
      width: 600px;
      height: 50px;
    }
    .placeholder{
      background-color: blue;
      height: 200px;
      width: 100%;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="placeholder" > </div>
    <div class="bar" >
      <div class="nav"></div>
    </div>
    <div class="placeholder"></div>
    <div class="bar">
      <div class="nav" style="background-color:#999999"></div>
    </div>
  </div>

  <a href="https://github.com/ltebean/sticky-header">
    <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"/>
  </a>
  
  <script type="text/javascript">
var firstBar = document.querySelector('.bar');
var firstPlace = document.querySelector('.placeholder');
var secondBar = document.querySelectorAll('.bar')[1];
var secondPlace = document.querySelectorAll('.placeholder')[1];

var fPh = firstPlace.offsetHeight;
var fBh = firstBar.offsetHeight;
var sPh = secondPlace.offsetHeight;
var sBh = secondBar.offsetHeight;

function stricky_two(){
  var scrolled = window.pageYOffset || document.documentElement.scrollTop;
  
  if (scrolled>=200) {
    firstBar.style.position ='fixed';
    firstBar.style.top = 0;
    firstPlace.style.height = 250+"px";
  };
  if (scrolled<200) {
    firstBar.style.position = 'relative';
    firstPlace.style.height = 200+"px";
  };
  if (scrolled>=400) {
    firstBar.style.top = 400-scrolled+"px";
  };
  if (scrolled>=450){
    secondBar.style.position = 'fixed';
    secondBar.style.top = 0;
    secondPlace.style.height = 250+'px';
  }
  if (scrolled<450) {
    secondBar.style.position='relative';
    secondPlace.style.height= 200 +'px';
  };
}
window.onresize = function(){
  if (window.innerWidth < 650){
    document.querySelector('.nav').style.width = 600 - (650 - window.innerWidth)+"px";
    document.querySelectorAll('.nav')[1].style.width = 600 - (650 - window.innerWidth)+"px";
  }
}


window.onscroll = function () { 
  document.querySelector('.nav').innerHTML="размер экрана: ширина "+window.innerWidth+", высота:"+document.body.clientHeight;
  //firstBar.style.margin="auto";
  stricky_two();
  //stricky();
}
  </script>
</body>
</html>