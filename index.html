<!DOCTYPE html>
<html>
<head>
  <title></title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style type="text/css">
    body{
      height: 2000px;
      margin:0px;
    }
    .bar{
      position: fixed;
      top:200px;
      width: 100%;
    }
    .nav{
      margin: auto;
      background-color:#333333;
      width: 600px;
      height: 50px;
    }
    .placeholder{
      height: 200px;
      width: 100%;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="placeholder" > </div>
    <div class="bar" >
      <div class="nav"></div>
    </div>
    <div class="placeholder"></div>
    <div class="bar" style="top:450px">
      <div class="nav" style="background-color:#999999"></div>
    </div>
  </div>

  <a href="https://github.com/ltebean/sticky-header">
    <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"/>
  </a>
  
  <script type="text/javascript">

function stricky () {
  //Отслеживаем прокрутку сверху
  var scrolled = window.pageYOffset || document.documentElement.scrollTop;
  //Ели прокрутка больше размера первого плэйсхордера - прижимаем первый хедер к "потолку"
  if (scrolled>=fPh) {
    firstBar.style.position="fixed";
    firstBar.style.top=0;
    firstBar.style.left=0;
    firstBar.style.right=0;
    firstPlace.style.height=fPh+fBh+"px";
  };
  //Если прокрутка мешьше размера первого плэйсхолдера - возвращяем исходные стили для хедера
  if (scrolled<fPh) {
    firstBar.style.position="relative";
    firstBar.style.margin="auto";
    firstPlace.style.height=fPh+"px";
  };
  //При достижении прокрутки в размер первого и второго плэйсхолдера - вытесняем первый хедер вторым
  if (scrolled>=(fPh+sPh)) {
    firstBar.style.top=fPh+sPh-scrolled+"px";
  };
  //Аналогично коду, приведеному выше
  if (scrolled>=(fPh+sPh+fBh)) {
    firstBar.style.position="absolute"
    secondBar.style.position="fixed";
    secondBar.style.top=0;
    secondBar.style.left=0;
    secondBar.style.right=0;
    secondPlace.style.height=sBh+sPh+"px";
  };
  if (scrolled<(fPh+fBh+sPh)) {
    secondBar.style.position="relative";
    secondBar.style.margin="auto";
    secondPlace.style.height=sPh+"px";
  };
}


var firstBar = document.querySelector('.bar');
var firstPlace = document.querySelector('.placeholder');
var secondBar = document.querySelectorAll('.bar')[1];
var secondPlace = document.querySelectorAll('.placeholder')[1];

var fPh = firstPlace.offsetHeight;
var fBh = firstBar.offsetHeight;
var sPh = secondPlace.offsetHeight;
var sBh = secondBar.offsetHeight;

function stricky_two(){
  var scrolled = window.pageYOffset || document.documentElement.scrollTop;
  firstBar.style.top = 200-scrolled+"px";
  secondBar.style.top = 450 - scrolled+"px";
  if (scrolled>=200) {
    firstBar.style.top = 0;
  };
  if (scrolled>=450){
    secondBar.style.top = 0;
  }
}


window.onscroll = function () { 
  firstBar.style.margin="auto";
  stricky_two();
  //stricky();
}
  </script>
</body>
</html>